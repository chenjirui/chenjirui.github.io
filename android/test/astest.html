<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="utf-8" />
    <title>Android Studio Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/style-base.css">
    <script type="text/javascript" src="https://ajax.microsoft.com/ajax/jquery/jquery-1.4.min.js"></script>      
     
    <script type="text/javascript" src="/js-base.js"></script>
     
</head>

<body>
    <main role="main">
        <h1>Android Studio Test</h1>

        <a href="http://www.jianshu.com/p/03118c11c199">TestDevTalk:在Android Studio中进行单元测试和UI测试</a>

        <h2>Unit Tests</h2>
        <h3>工程配置</h3>
        <ol>
            <li>在Build Variants窗口内的Test Artifact中选择了"Unit Tests"</li>
            <li>选择Project视图,在工程的src文件夹内创建test文件夹和test/java文件</li>
            <li>打开build.gradle（Module:app）文件，添加JUnit4依赖，点击Gradle sync按钮
                <pre><code>dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.android.support:appcompat-v7:22.1.1'
    testCompile 'junit:junit:4.12'
}</code></pre>
            </li>
        </ol>

        <h3>快速创建测试类</h3>
        <ol>
            <li>在编辑器内右键点击被测试类的声明，选择Go to &gt; Test，然后"Create a new test…"</li>
            <li>选择JUnit4和"setUp/@Before"，同时为所须测试的方法生成测试方法。</li>
            <li>自动在正确的文件夹内(app/src/test/java/com/example/testing/testingexample)生成测试类框架，在框架内填入测试方法</li>
        </ol>

        <h3>运行测试</h3>
        <ol>
            <li>右键点击测试类，选择Run &gt; 测试类<br>也可以通过命令行运行测试，在工程目录内输入:./gradlew test</li>
        </ol>
        
        <h2>UI测试 instrumentation测试</h2>
        <h3>配置</h3>
        <ol>
            <li>
                <pre><code>apply plugin: 'com.android.application'

android {
    compileSdkVersion 22
    buildToolsVersion "22.0.1"

    defaultConfig {
        applicationId "com.example.testing.testingexample"
        minSdkVersion 15
        targetSdkVersion 22
        versionCode 1
        versionName "1.0"

        //ADD THIS LINE:
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

    //ADD THESE LINES:
    packagingOptions {
        exclude 'LICENSE.txt'
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.android.support:appcompat-v7:22.0.0' //← MAKE SURE IT’S 22.0.0
    testCompile 'junit:junit:4.12'

    //ADD THESE LINES:
    androidTestCompile 'com.android.support.test:runner:0.2'
    androidTestCompile 'com.android.support.test:rules:0.2'
    androidTestCompile 'com.android.support.test.espresso:espresso-core:2.1'
}</code></pre>
            </li>
            <li>在Build Variants窗口内切换成Android Instrumentation Tests</li>
        </ol>
        
        <h3>Espresso测试</h3>
<ol>
    <li>在androidTest文件夹内创建相应测试类</li>
    <li></li>
</ol>

        
    </main>
</body>

</html>